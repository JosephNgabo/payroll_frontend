<!-- <div class="bg-white p-4 rounded shadow-sm mb-4">
  <h6 class="mb-3">Job information</h6>
  <div class="row g-3">
    <div class="col-md-6">
      <div><span class="text-muted">Job Title:</span> {{ employee.employee_contracts?.job_title }}</div>
      <div><span class="text-muted">Employment Type:</span> {{ employee.employee_contracts?.employment_type }}</div>
      <div><span class="text-muted">Hire Date:</span> {{ employee.employee_contracts?.hire_date }}</div>
    </div>
    <div class="col-md-6">
      <div><span class="text-muted">Salary Basis:</span> {{ getSalaryBasisLabel(employee.employee_contracts?.salary_basis) }}</div>
      <div><span class="text-muted">Salary Amount:</span> {{ employee.employee_contracts?.salary_amount | numberFormat }}</div>
      <div><span class="text-muted">Salary Frequency:</span> {{ employee.employee_contracts?.salary_frequency }}</div>
    </div>
  </div>
</div> -->

<!-- Contract Details Section -->
<div class="bg-white p-4 rounded shadow-sm mb-4">
  <div class="d-flex align-items-center mb-4">
    <div class="bg-info bg-opacity-10 p-2 rounded me-3">
      <i class="fas fa-file-contract text-info"></i>
    </div>
    <div>
      <h5 class="mb-1">Contract Details</h5>
      <small class="text-muted">Employment contract information</small>
    </div>
  </div>
  
  <div class="row g-4">
    <div class="col-md-6">
      <div class="info-card p-3 border rounded mb-3">
        <div class="d-flex align-items-center mb-2">
          <i class="fas fa-building text-primary me-2"></i>
          <span class="fw-semibold text-dark">Organization Details</span>
        </div>
        <div class="info-item">
          <span class="text-muted small">Department:</span>
          <span class="text-dark ms-2">
            <i class="fas fa-sitemap text-primary me-1"></i>
            {{ getDepartmentName(employee.employee_contracts?.department) || 'Not assigned' }}
          </span>
        </div>
        <div class="info-item">
          <span class="text-muted small">End Date:</span>
          <span class="text-dark ms-2">
            <i class="fas fa-calendar-times text-warning me-1"></i>
            {{ employee.employee_contracts?.end_date || 'Not specified' }}
          </span>
        </div>
        <div class="info-item">
          <span class="text-muted small">TIN Number:</span>
          <span class="text-dark ms-2">
            <i class="fas fa-id-badge text-info me-1"></i>
            {{ employee.employee_contracts?.tin_number || 'Not specified' }}
          </span>
        </div>
      </div>
    </div>
    
    <div class="col-md-6">
      <div class="info-card p-3 border rounded mb-3">
        <div class="d-flex align-items-center mb-2">
          <i class="fas fa-chart-line text-success me-2"></i>
          <span class="fw-semibold text-dark">Contract Status</span>
        </div>
        <div class="info-item">
          <span class="text-muted small">Status:</span>
          <span class="badge ms-2" [ngClass]="{
            'bg-success': isContractActive(employee.employee_contracts?.end_date),
            'bg-warning': isContractExpired(employee.employee_contracts?.end_date),
            'bg-info': !employee.employee_contracts?.end_date
          }">
            <i class="fas fa-circle me-1"></i>
            {{ getContractStatus(employee.employee_contracts?.end_date) }}
          </span>
        </div>
        <div class="info-item">
          <span class="text-muted small">Contract Duration:</span>
          <span class="text-dark ms-2">
            <i class="fas fa-clock text-info me-1"></i>
            {{ getContractDuration(employee.employee_contracts?.hire_date, employee.employee_contracts?.end_date) }}
          </span>
        </div>
        <div class="info-item">
          <span class="text-muted small">Years of Service:</span>
          <span class="fw-bold text-success ms-2">
            <i class="fas fa-star me-1"></i>
            {{ getYearsOfService(employee.employee_contracts?.hire_date) }}
          </span>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Salary Items Section -->
<div class="bg-white p-4 rounded shadow-sm mb-4">
  <div class="d-flex align-items-center mb-4">
    <div class="bg-warning bg-opacity-10 p-2 rounded me-3">
      <i class="fas fa-money-bill-wave text-warning"></i>
    </div>
    <div>
      <h5 class="mb-1">Salary Items</h5>
      <small class="text-muted">Allowances, deductions and benefits</small>
    </div>
  </div>
  
  <!-- Allowances Section -->
  <div class="salary-item-card mb-4">
    <div class="salary-item-header bg-success bg-opacity-10 p-2 rounded-top">
      <div class="d-flex align-items-center">
        <div class="bg-success p-2 rounded me-3">
          <i class="fas fa-gift text-white"></i>
        </div>
        <div>
          <h6 class="mb-2 text-white fw-bold">Allowances</h6>
          <h6 class="text-white">Employee benefits </h6>
        </div>
      </div>
    </div>
    <div class="salary-item-body p-3 border border-top-0 rounded-bottom">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead class="table-success table-opacity-10">
            <tr>
              <th class="border-0"><i class="fas fa-tag me-1"></i>Name</th>
              <th class="border-0"><i class="fas fa-dollar-sign me-1"></i>Amount</th>
              <th class="border-0"><i class="fas fa-info-circle me-1"></i>Type</th>
              <th class="border-0"><i class="fas fa-align-left me-1"></i>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let allowance of employeeAllowances" class="table-row-hover">
              <td class="fw-semibold">{{ getAllowanceName(allowance.allowance_id) }}</td>
              <td class="text-success fw-bold">{{ allowance.amount | numberFormat }}</td>
              <td><span class="badge bg-success bg-opacity-75">{{ allowance.type }}</span></td>
              <td class="text-muted">{{ allowance.description || '-' }}</td>
            </tr>
            <tr *ngIf="!employeeAllowances || employeeAllowances.length === 0">
              <td colspan="4" class="text-center text-muted py-4">
                <i class="fas fa-inbox fa-2x mb-2"></i>
                <p class="mb-0">No allowances added</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- RSSB Deductions Section -->
  <div class="salary-item-card mb-4">
    <div class="salary-item-header bg-warning bg-opacity-10 p-2 rounded-top">
      <div class="d-flex align-items-center">
        <div class="bg-warning p-2 rounded me-3">
          <i class="fas fa-shield-alt text-white"></i>
        </div>
        <div>
          <h6 class="mb-1 text-white fw-bold">RSSB Deductions</h6>
          <h6 class="text-white">Social security contributions</h6>
        </div>
      </div>
    </div>
    <div class="salary-item-body p-3 border border-top-0 rounded-bottom">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead class="table-warning table-opacity-10">
            <tr>
              <th class="border-0"><i class="fas fa-shield me-1"></i>Deduction Name</th>
              <th class="border-0"><i class="fas fa-user me-1"></i>Employee Contribution</th>
              <th class="border-0"><i class="fas fa-building me-1"></i>Employer Contribution</th>
              <th class="border-0"><i class="fas fa-align-left me-1"></i>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let deduction of employeeRssbDeductions" class="table-row-hover">
              <td class="fw-semibold">{{ deduction.rssb_name }}</td>
              <td class="text-danger fw-bold">{{ deduction.rssb_employee_contribution | numberFormat }}</td>
              <td class="text-info fw-bold">{{ deduction.rssb_employer_contribution | numberFormat }}</td>
              <td class="text-muted">{{ deduction.rssb_description || '-' }}</td>
            </tr>
            <tr *ngIf="!employeeRssbDeductions || employeeRssbDeductions.length === 0">
              <td colspan="4" class="text-center text-muted py-4">
                <i class="fas fa-shield-alt fa-2x mb-2"></i>
                <p class="mb-0">No RSSB deductions added</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Other Deductions Section -->
  <div class="salary-item-card mb-4">
    <div class="salary-item-header bg-danger bg-opacity-10 p-2 rounded-top">
      <div class="d-flex align-items-center">
        <div class="bg-danger p-2 rounded me-3">
          <i class="fas fa-minus-circle text-white"></i>
        </div>
        <div>
          <h6 class="mb-1 text-white fw-bold">Other Deductions</h6>
          <h6 class="text-white">Additional deductions and taxes</h6>
        </div>
      </div>
    </div>
    <div class="salary-item-body p-3 border border-top-0 rounded-bottom">
      <div class="table-responsive">
        <table class="table table-hover mb-0">
          <thead class="table-danger table-opacity-10">
            <tr>
              <th class="border-0"><i class="fas fa-tag me-1"></i>Deduction Name</th>
              <th class="border-0"><i class="fas fa-dollar-sign me-1"></i>Amount</th>
              <th class="border-0"><i class="fas fa-info-circle me-1"></i>Type</th>
              <th class="border-0"><i class="fas fa-align-left me-1"></i>Description</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let deduction of employeeOtherDeductions" class="table-row-hover">
              <td class="fw-semibold">{{ getDeductionName(deduction.deduction_id) }}</td>
              <td class="text-danger fw-bold">{{ deduction.amount | numberFormat }}</td>
              <td><span class="badge bg-danger bg-opacity-75">{{ deduction.type }}</span></td>
              <td class="text-muted">{{ deduction.description || '-' }}</td>
            </tr>
            <tr *ngIf="!employeeOtherDeductions || employeeOtherDeductions.length === 0">
              <td colspan="4" class="text-center text-muted py-4">
                <i class="fas fa-minus-circle fa-2x mb-2"></i>
                <p class="mb-0">No other deductions added</p>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

<style>
.info-card {
  background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
  transition: all 0.3s ease;
  border: 1px solid #e9ecef !important;
}

.info-card:hover {
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
  border-color: #dee2e6 !important;
}

.info-item {
  display: flex;
  align-items: center;
  margin-bottom: 0.75rem;
  padding: 0.5rem 0;
  border-bottom: 1px solid #f8f9fa;
}

.info-item:last-child {
  border-bottom: none;
  margin-bottom: 0;
}

.info-item .text-muted {
  min-width: 120px;
  font-size: 0.875rem;
}

.salary-item-card {
  border-radius: 0.5rem;
  overflow: hidden;
  box-shadow: 0 2px 8px rgba(0,0,0,0.05);
  transition: all 0.3s ease;
}

.salary-item-card:hover {
  box-shadow: 0 4px 16px rgba(0,0,0,0.1);
  transform: translateY(-1px);
}

.salary-item-header {
  border-bottom: 1px solid rgba(0,0,0,0.05);
}

.salary-item-body {
  background: #ffffff;
}

.table-opacity-10 {
  background-color: rgba(0,0,0,0.02) !important;
}

.table-row-hover:hover {
  background-color: rgba(0,0,0,0.02) !important;
}

.badge {
  font-size: 0.75rem;
  padding: 0.25rem 0.5rem;
}

.bg-opacity-10 {
  --bs-bg-opacity: 0.1;
}

.bg-opacity-75 {
  --bs-bg-opacity: 0.75;
}

.bg-success {
  background-color: #198754 !important;
}

.bg-warning {
  background-color: #ffc107 !important;
}

.bg-danger {
  background-color: #dc3545 !important;
}

.bg-info {
  background-color: #0dcaf0 !important;
}

.text-success {
  color: #198754 !important;
}

.text-warning {
  color: #ffc107 !important;
}

.text-danger {
  color: #dc3545 !important;
}

.text-info {
  color: #0dcaf0 !important;
}

.fw-semibold {
  font-weight: 600 !important;
}

.fw-bold {
  font-weight: 700 !important;
}

.small {
  font-size: 0.875em !important;
}

.me-1 { margin-right: 0.25rem !important; }
.me-2 { margin-right: 0.5rem !important; }
.me-3 { margin-right: 1rem !important; }
.ms-1 { margin-left: 0.25rem !important; }
.ms-2 { margin-left: 0.5rem !important; }
.mb-1 { margin-bottom: 0.25rem !important; }
.mb-2 { margin-bottom: 0.5rem !important; }
.mb-3 { margin-bottom: 1rem !important; }
.mb-4 { margin-bottom: 1.5rem !important; }
.p-2 { padding: 0.5rem !important; }
.p-3 { padding: 1rem !important; }
.p-4 { padding: 1.5rem !important; }
.g-4 { --bs-gutter-x: 1.5rem; --bs-gutter-y: 1.5rem; }
.py-4 { padding-top: 1.5rem !important; padding-bottom: 1.5rem !important; }
.rounded-top { border-top-left-radius: 0.375rem !important; border-top-right-radius: 0.375rem !important; }
.rounded-bottom { border-bottom-left-radius: 0.375rem !important; border-bottom-right-radius: 0.375rem !important; }
.border-top-0 { border-top: 0 !important; }
</style> 